
<div class="page-header">
    <h1 class="title">首页相册</h1>
    <ol class="breadcrumb">
        <li><a href="javascript:;">微商城</a></li>
        <li class="active">首页相册</li>
    </ol>
    <div class="right">
        您可以在本页设置商城的轮播图，显示的图片是以下添加的图片。
    </div>
</div>
<div class="ms-controller" ms-controller="showList">
<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">

            <div class="panel-title">
                提示
            </div>

            <div class="panel-body">
                <h4>上传商城轮播图片时，为了使商城整体更加美观务必保证图片清晰。</h4>
                <p><b>建议尺寸:</b>1280px*720px</p>
                <p>
                    <a href="javascript:;" class="btn btn-sm btn-default" ms-click="##addImage"><i style="font-size: 12px" class="fa fa-plus"></i>新增banner图片</a>
                </p></div>

        </div>
    </div>
    <div class="col-md-6 col-lg-4" ms-for="key in ##listData">
        <div class="panel panel-default">
            <div class="status">
                <ul class="panel-tools panel-tools-hover">
                    <li><a class="icon closed-tool" ms-click="##deleteInfo(key)"><i class="fa fa-times"></i></a></li>
                </ul>
                <div class="who clearfix">
                    <span class="name"><b>{{key.ppRemark}}</b> </span>
                    <span class="from">{{key.ppdate}}</span>
                </div>
                <div class="image"><img ms-attr="{src:key.ppUrl}" alt="banner图片"></div>
                <ul class="links">
                    <li><a href="javascript:;"><i class="fa fa-eye"></i>查看演示</a></li>
                    <li><a href="javascript:;" ms-click="##editImage(key)"><i class="fa fa-edit"></i>编辑</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!--图片上传弹出框&详情信息-->
<div id="infomationBox" class="note-image-dialog modal in" aria-hidden="false" style="display:none;">
    <div class="modal-backdrop in"></div>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" ms-click="##closeBox" aria-hidden="true" tabindex="-1">×</button>
                <h4 class="modal-title">新增首页图片</h4></div>
            <form class="note-modal-form" ms-validate="##validate" action="#/album">
                <div class="modal-body">
                    <div class="form-group row-fluid">
                        <label>编辑描述</label>
                        <input class="note-image-url form-control span12" ms-rules="{required:true}" ms-focus="##clear" data-required-message="描述信息需要填写！" ms-duplex="##filldata.ppRemark" type="text">
                    </div>
                    <div class="form-group row-fluid note-group-select-from-files">
                        <label>图片上传</label>
                        <div class="alertCheckBox" style="margin-right: -15px;margin-left: -15px;">
                            <div class="col-xs-6 imgbox">
                                <img id="viewimage" src="img/noimage.jpg" ms-attr="{src:##filldata.ppUrl}" alt="上传的图片" width="100%" />
                                <span id="deleteimg" class="deleteimg" ms-click="##deleteImage" style="display: none">×</span>
                                <span id="uploadtips" class="uploadtips text-center" style="display: none"></span>
                            </div>
                            <div class="col-xs-6 buttonBox">
                                <p class="color-down">1.每次只能上传一张图片。</p>
                                <p class="color-down">2.上传的图片不能超过800KB。</p>
                                <p class="color-down">3.上传失败请重新选择再上传。</p>
                                <button type="button" class="btn btn-xs btn-light" id="pickfiles">选择图片</button>
                                <button type="button" class="btn btn-xs btn-default" id="uploadfiles">开始上传</button>
                            </div>
                            <div class="col-xs-12">
                                <button type="submit" class="btn btn-default">保存</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</div>
<script>
    require(['album'], function (album) {
        var url = {
            getAlbumList: 'json/album.json',
            addBannerUrl:'json/album.json',//新增图片
            deleteBannerUrl:'json/album.json',//删除图片（删除的只是图片）
            editBanner:'json/album.json',//编辑图片
            deletBannerInfo:'json/album.json'//删除整条信息
        };
        album.init_start(url);
    })
</script>